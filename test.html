<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction Test Form</title>
    <script>
        function prepareTransactionData() {
            const transactionData = {
                txnid: document.getElementById('txnid').value,
                merchantId: document.getElementById('merchantId').value,
                productinfo: document.getElementById('productinfo').value,
                amount: document.getElementById('amount').value,
                email: document.getElementById('email').value,
                firstname: document.getElementById('firstname').value,
                lastname: document.getElementById('lastname').value,
                phone: document.getElementById('phone').value,
                mode: document.getElementById('mode').value,
                surl: document.getElementById('surl').value,
                furl: document.getElementById('furl').value
            };

            // Set the JSON string in the hidden input field
            document.getElementById('transactionData').value = JSON.stringify(transactionData);
        }
    </script>
</head>
<body>
    <h1>Transaction Test Form</h1>
    <form action="TransactionRedirector.php" method="POST" onsubmit="prepareTransactionData()">
        <label for="txnid">Transaction ID (txnid):</label>
        <input type="text" id="txnid" required><br><br>

        <label for="merchantId">Merchant ID:</label>
        <input type="text" id="merchantId" required><br><br>

        <label for="productinfo">Product Info:</label>
        <input type="text" id="productinfo" required><br><br>

        <label for="amount">Amount:</label>
        <input type="text" id="amount" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" required><br><br>

        <label for="firstname">First Name:</label>
        <input type="text" id="firstname" required><br><br>

        <label for="lastname">Last Name:</label>
        <input type="text" id="lastname" required><br><br>

        <label for="phone">Phone:</label>
        <input type="text" id="phone" required><br><br>

        <label for="mode">Mode:</label>
        <input type="text" id="mode" required><br><br>

        <label for="surl">Success URL:</label>
        <input type="url" id="surl" required><br><br>

        <label for="furl">Failure URL:</label>
        <input type="url" id="furl" required><br><br>

        <!-- Hidden field for transactionData as a JSON string -->
        <input type="hidden" id="transactionData" name="transactionData">

        <button type="submit">Submit Transaction</button>
    </form>
</body>
</html>
